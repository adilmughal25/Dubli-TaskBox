"use strict";

describe('utils/strip-tags', function () {
  var expect = require('chai').expect;
  var stripTags = require('../../src/utils/strip-tags');

  var htmlFree = 'thank you';
  var pTagged = '<p>thank you</p>';

  var object = {
    clean: htmlFree,
    dirty: pTagged
  };
  var nested = {
    clean: htmlFree,
    dirty: object
  };
  var array = [htmlFree, pTagged];

  var expectedObject = {
    clean: htmlFree,
    dirty: htmlFree
  };
  var expectedNested = {
    clean: htmlFree,
    dirty: expectedObject
  };
  var expectedArray = [htmlFree, htmlFree];

  describe('stripTags', function () {
    it('is available as a function', function () {
      expect(stripTags).to.be.a('function');
    });

    it('should leave non-html strings alone', function () {
      expect(stripTags(htmlFree)).to.eql(htmlFree);
    });

    it('should strip html from a string', function () {
      expect(stripTags(pTagged)).to.eql(htmlFree);
    });

    it('should strip html from strings inside of an object', function () {
      expect(stripTags(object)).to.eql(expectedObject);
    });

    it('should strip html from double-nested strings', function () {
      expect(stripTags(nested)).to.eql(expectedNested);
    });

    it('should strip html from strings inside of an array', function () {
      expect(stripTags(array)).to.eql(expectedArray);
    });
  });

});
