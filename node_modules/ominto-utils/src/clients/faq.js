'use strict';

let dataClient;

function * getAllActiveFaqs (region, language, whitelabel, ctx) {
  let result = yield dataClient.get('/searchFAQs/', {region: region, language: language, whitelabel: whitelabel}, ctx);
  ctx.assert(result.statusCode !== 404, 404, 'No FAQs found', {internalCode: 151});
  return result.body;
}

module.exports = function init (config) {
  dataClient = require('../utils/rest-client')(config.data_api, false);
  return {
    getAllActiveFaqs: getAllActiveFaqs
  };
};
