'use strict';
(function () {

  const errorCheck = condition => {
    return function (statusCode, message, payload, ctx) {
      if (condition) {
        if (ctx) {
          ctx.throw(statusCode, message, payload);
        } else {
          throw new Error(message + ': ' + JSON.stringify({statusCode: statusCode, payload: payload}, null, 2));
        }
      }
    };
  };

  module.exports = {
    errorCheck: errorCheck,
    conditionMet: errorCheck(true)
  };
})();
