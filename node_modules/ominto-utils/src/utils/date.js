'use strict';

var _ = require('lodash');

function format (date) {
  if (!_.isDate(date)) {
    date = new Date(date);
  }
  if (!_.isDate(date)) {
    throw new Error('Parameter is not a date');
  }
  return date.toISOString();
}

function now () {
  return format(Date.now());
}

function getPattern () {
  return /^((\d{4})-([01]\d)-([0-3]\d))T((([0-2]\d):([0-5]\d):([0-5]\d))\.(\d{3}))Z$/;
}

module.exports = {
  format: format,
  now: now,
  getPattern: getPattern
};
